extends layout

block content
  div(class="tc bg-neon-carrot plum bb b--black-10 pa4 pa5-ns")
    h1(class="f2 f-headline-l f1-ns fw6 mid-gray ma0")
      a(href="/") browserl.ist
    p(class="ma0 mt2 mb4 mb5-ns") #{description}
    form(method="get" url="/" class="cf dt-ns w-100 my4 f5 f4-l")
      div(class="fl dtc-ns w-100 w-60-ns mb2 mb0-ns pr2-ns")
        input(class="pa2 ba b--black-30 code br1 border-box w-100 lh-title" name="q" value= query)
      div(class="fl dtc-ns w-100 w-20-ns mb2 mb0-ns pr2-ns")
        select(class="pa2 ba b--black-30 code br1 border-box w-100 lh-title" name="c" value= query)
          option(value="global") Global coverage
          each c in countries
            option(value=c.code selected=(country.code === c.code)) #{c.name}
      div(class="fl dtc-ns w-100 w-20-ns")
        button(type=submit class="bg-plum neon-carrot b bg-plum--hover pa2 ba b--black-30 br1 db w-100 lh-title border-box pointer") Show #[span(class="dn-m") Browsers]
  div(class="dt-ns w-100 mw8 center")
    if compatible
      each browsers, platform in compatible
        div(class="dtc-l pa2 w-50-l border-box")
          h2(class="f4 f3-ns ma0 mt4 mb4 tc ttc") #{platform} browsers
          ul(class="ma0 list pa3")
            each browser in browsers
              li(class="ma0 mb3 lh-copy")
                img(src=browser.logo class="v-mid mr2" alt="" height="34" width="34")
                span(class="mr1 v-mid") #{browser.name}
                span(class="mr1 v-mid") #{browser.version}
                span(class="v-mid fr")
                  small(alt="Global coverage") #{Math.round(browser.coverage * 100) / 100}%
    else if error != null
      h2(class="f4 f3-ns ma0 mv5 tc ttc") #{error}
  div(class="tc bg-neon-carrot plum bb b--black-10 pa2 pa3-ns mt4")
    | #{country.code === 'global' ? "Global coverage:" : `Coverage in ${country.name}:`}
    strong(class="ml1") #{Math.round(coverage * 100) / 100}%


